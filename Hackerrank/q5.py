friends_from = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8]
friends_to = [2,2,2,2,3,3,3,3,4,4,4,5,5,5,6,6,6,7,7,7,8,8,8,1,1,1,1,3,3,3,3,3,4,4,4,4,4,4,4,4,5,5,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,8,8,8,8,8,1,1,1,1,2,2,2,2,4,5,5,6,7,7,7,7,7,8,8,8,8,1,1,2,2,2,2,3,3,5,5,5,5,5,5,5,6,6,6,6,6,6,6,7,7,8,8,8,1,2,2,2,3,3,3,3,4,4,4,4,6,6,6,6,7,7,7,7,7,8,1,2,3,4,4,4,4,4,5,5,5,5,5,7,7,7,7,8,8,1,2,2,2,2,2,2,2,2,2,3,4,4,4,4,5,5,5,5,5,5,6,6,8,8,8,1,1,1,2,2,3,3,4,4,4,5,5,5,5,5,6,6,6,7,7,7,7,7]
friends_weight = [38,40,49,81,31,43,75,95,3,15,24,11,16,55,62,86,89,54,61,90,49,65,88,13,45,66,88,15,31,49,63,77,11,39,46,49,61,66,69,84,1,7,17,39,44,68,81,90,93,99,100,22,38,45,46,63,72,2,4,31,79,94,8,33,52,92,3,4,64,75,67,56,96,82,28,38,61,62,67,2,8,68,96,94,98,5,50,52,82,31,66,5,22,23,26,35,67,72,6,7,11,20,41,62,96,24,63,60,89,97,40,23,78,91,5,47,76,88,6,37,42,83,26,40,63,92,7,26,63,70,98,43,33,78,11,23,26,42,57,84,6,47,88,95,100,14,55,62,83,40,69,97,19,32,40,42,47,53,70,73,91,65,5,17,70,75,5,34,46,59,74,86,22,61,10,25,41,10,48,63,43,100,64,94,7,53,83,69,94,95,96,97,5,13,33,50,52,60,66,90]

graph = {}
pairs = list(zip(friends_from, friends_to))

for i in range(len(friends_weight)):
    if(pairs[i][1] < pairs[i][0]):
        pairs[i] = (pairs[i][1], pairs[i][0])
    if friends_weight[i] in graph:
        graph[friends_weight[i]].append(pairs[i])
    else:
        graph[friends_weight[i]] = [pairs[i]]

answer = 0
ans = {}
size = 0
for key in graph.keys():
    graph[key].sort(key= lambda x: x[0])

    lists = [[]]
    index = 0
    for x in graph[key]:
        if x[0] in lists[index]:
            lists[index].append(x[1])
        elif x[1] in lists[index]:
            lists[index].append(x[0])
        else:
            index += 1
            lists.append([x[0], x[1]])
    maxVal = 0
    ans[key] = lists[1:]
    for k in lists[1:]:
        if size <= len(k):
            k.sort()
            if maxVal < k[-1] * k[-2]:
                maxVal = k[-1] * k[-2]
                size = len(k)
    if answer < maxVal:
        answer = maxVal
print(graph)
print(answer)
print(ans)